# Cargo configuration for iOS builds with ONNX Runtime
# 
# This file uses Cargo's build script override feature to provide the
# ONNX Runtime library location for iOS targets. This overrides ort-sys's
# build script output, which would otherwise fail because ORT_LIB_LOCATION
# cannot be set in a target-specific way.
#
# The `onnxruntime` key matches ort-sys's `links = "onnxruntime"` declaration.

# iOS arm64 device target - override ort-sys build script
[target.aarch64-apple-ios.onnxruntime]
rustc-link-search = ["onnxruntime-ios/onnxruntime.xcframework/ios-arm64"]
rustc-link-lib = ["static=onnxruntime"]

# iOS simulator (arm64) target
[target.aarch64-apple-ios-sim.onnxruntime]
rustc-link-search = ["onnxruntime-ios/onnxruntime.xcframework/ios-arm64_x86_64-simulator"]
rustc-link-lib = ["static=onnxruntime"]

# iOS simulator (x86_64) target
[target.x86_64-apple-ios.onnxruntime]
rustc-link-search = ["onnxruntime-ios/onnxruntime.xcframework/ios-arm64_x86_64-simulator"]
rustc-link-lib = ["static=onnxruntime"]
